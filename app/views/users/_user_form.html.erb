<%= form_for(@user) do |f| %>
    <%= render 'shared/error_messages', obj: f.object %>
    <div class="form-group">
      <%= f.label :user_name, "* Användarnamn" %>
      <%= f.text_field :user_name, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :first_name, "Förnamn" %>
      <%= f.text_field :first_name, class: "form-control", placeholder: "ex. Mats" %>
    </div>

    <div class="form-group">
      <%= f.label :last_name, "Efternamn" %>
      <%= f.text_field :last_name, class: "form-control", placeholder: "ex. Carlsson" %>
    </div>

    <div class="form-group">
      <%= f.label :ssn, "Personnummer" %>
      <%= f.text_field :ssn, class: "form-control", placeholder: "YYMMDD-XXXX" %>
    </div>

    <div class="form-group">
      <%= f.label :email, "Email" %>
      <%= f.email_field :email, class: "form-control", placeholder: "ex. namn@exempel.se" %>
    </div>

    <div class="form-group">
      <%= f.label :phone_number, "Telefonnummer" %>
      <%= f.text_field :phone_number, class: "form-control", placeholder: "ex. 0701234567" %>
    </div>


    <div class="form-group">
      <%= f.label :password, "* Lösenord" %>
      <%= f.password_field :password, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :password_confirmation, "* Konfirmera lösenord" %>
      <%= f.password_field :password_confirmation, class: "form-control" %>
    </div>

    <h3>Användar-rättigheter</h3>
    <div class="form-group userInfo">
      <%= f.label :role, "Välj roll" %><br />
      <%= f.collection_radio_buttons :role_id, Role.all, :id, :role_name_id, checked: Role.find_by_role_name_id(4).id do |form_builder| %>
        <div>
         <%= form_builder.radio_button %>
         <!--<%= form_builder.label %> -->
         <!-- Cant get the translation to work for form_builder.label, so we take the
              text, translate it to its counterpart and throw it inside a label-tag -->
         <label><%= I18n.t form_builder.text, scope: [:activerecord, :attributes, :role, :role_name_ids]  %></label>
          <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="right" title="<%= form_builder.object.description %>"></span>
        </div>
      <% end %>
    </div>


    <!-- Nested fields for contact person -->
    <hr />
    <h3>Närmaste kontaktperson</h3>

    <%=  f.fields_for :contact_person do |ff| %>
      <div class="form-group">
        <%= ff.label :full_name, "Namn" %>
        <%= ff.text_field :full_name, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= ff.label :phone_number, "Telefonnummer" %>
        <%= ff.text_field :phone_number, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= ff.label :email, "Email" %>
        <%= ff.text_field :email, class: "form-control" %>
      </div>
    <% end %>

    <hr />



    <%= f.submit "Spara användare", class: "btn btn-primary", data: { disable_with: "Skapar användare.." } %>
    <%= link_to "Tillbaka", root_path, class: "btn btn-primary" %>
<% end %>
